<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Playlist Video Poli Padma</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <video id="vid" playsinline autoplay muted controls></video>
  <button id="muteToggle" aria-label="Mute / Unmute">ðŸ”‡</button>

  <script>
    const videos = [
      "assets/Poliklinik_Padma_RS_Hermina_Soreang.mp4",
    //   "assets/CodeStrokeYeah2025-1080p.mp4",
      "assets/HerminaxRoketJNE-FIX-TV-perbesarsuara.mp4"
    ];

    const videoEl = document.getElementById("vid");
    const muteBtn = document.getElementById("muteToggle");
    let i = 0;
    let isMuted = false; //aslinya true
    let hideTimer;

    const updateIcon = () => muteBtn.textContent = isMuted ? "ðŸ”‡" : "ðŸ”Š";

    const showButton = () => {
      muteBtn.classList.remove("hide");
      clearTimeout(hideTimer);
      hideTimer = setTimeout(() => muteBtn.classList.add("hide"), 3000);
    };

    function playNext() {
      videoEl.src   = videos[i];
      videoEl.muted = isMuted;
      videoEl.play();
      i = (i + 1) % videos.length;
    }

    videoEl.addEventListener("ended", playNext);

    muteBtn.addEventListener("click", () => {
      isMuted       = !isMuted;
      videoEl.muted = isMuted;
      updateIcon();
      showButton();
    });

    ["mousemove","touchstart"].forEach(evt => {
      document.addEventListener(evt, showButton, { passive:true });
    });

    document.body.addEventListener("click", () => {
      if(isMuted){
        isMuted = false;
        videoEl.muted = false;
        updateIcon();
      }
      showButton();
    }, { once:true });

    updateIcon();
    showButton();   
    playNext();
  </script>
</body>
</html>